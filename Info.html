 <!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>دوره تربیت مربی نوجوان</title>
    
    <!-- افزودن فونت وزیرمتن -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css">
    
    <!-- افزودن کتابخانه آیکون Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        :root {
            --primary-color: #0d47a1;
            --secondary-color: #1976d2;
            --heading-color: #0b3c85;
            --accent-color: #eaf2fa;
            --text-color: #495057;
            --bg-color: #f8f9fa;
            --success-color: #1abc9c; /* رنگ برای آیتم‌های آنلاین */
            --muted-color: #95a5a6;   /* رنگ برای هفته استراحت */
            --font-family: 'Vazirmatn', sans-serif;
            --border-radius: 12px;
            --box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            --transition-speed: 0.4s;
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0 0 140px 0; /* افزودن پدینگ پایین برای جلوگیری از همپوشانی پلیر */
            overflow-x: hidden;
            line-height: 1.75;
        }
        body.entry-mode { overflow: hidden; padding-bottom: 0; }

        #entry-section {
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            height: 100vh; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            position: fixed; top: 0; left: 0; width: 100%; z-index: 20;
            transition: opacity 0.8s ease, visibility 0s 0.8s;
        }
        #entry-section h1 { color: white; font-size: 3.2rem; margin-bottom: 1rem; text-shadow: 2px 2px 5px rgba(0,0,0,0.25); }
        #entry-section p { color: #cde1f9; font-size: 1.25rem; margin-bottom: 3.5rem; }
        .button-group { display: flex; gap: 20px; }
        .entry-button {
            display: flex; align-items: center; justify-content: center; gap: 12px; padding: 16px 32px;
            border: 2px solid white; border-radius: 50px; background-color: transparent; color: white;
            font-family: var(--font-family); font-size: 1.1rem; font-weight: bold; cursor: pointer;
            transition: all var(--transition-speed) ease; text-decoration: none;
        }
        .entry-button:hover { background-color: white; color: var(--primary-color); transform: translateY(-6px); box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .entry-button i { font-size: 1.4rem; }
        .details-visible #entry-section { opacity: 0; visibility: hidden; }

        #info-section {
            padding: 80px 40px; opacity: 0; visibility: hidden;
            transition: opacity 1s ease-in-out 0.4s, transform 1s ease-in-out 0.4s;
            transform: translateY(24px);
        }
        .details-visible #info-section { opacity: 1; visibility: visible; transform: translateY(0); }

        .page-header { text-align: center; margin-bottom: 40px; } /* کاهش فاصله برای بخش صوتی */
        .page-header h2 { font-size: 2.9rem; font-weight: 800; color: var(--heading-color); margin: 0; }
        .page-header p { font-size: 1.15rem; color: var(--text-color); margin-top: 12px; }
        
        /* ======================================================== */
        /*          ▼▼▼ بخش جدید: پلیرهای صوتی ▼▼▼           */
        /* ======================================================== */
        .audio-player-section {
            max-width: 1200px; margin: 0 auto 64px auto;
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px;
        }
        .audio-box {
            background: white; border-radius: var(--border-radius);
            box-shadow: var(--box-shadow); border: 1px solid #e9ecef;
            padding: 24px; display: flex; align-items: center; gap: 20px; cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .audio-box:hover { transform: translateY(-5px); box-shadow: 0 12px 35px rgba(0,0,0,0.1); }
        .play-icon-wrapper {
            flex-shrink: 0; width: 60px; height: 60px; border-radius: 50%;
            background: var(--accent-color); color: var(--primary-color);
            display: grid; place-items: center; font-size: 1.8rem;
            transition: all 0.3s ease; position: relative;
        }
        .audio-box:hover .play-icon-wrapper { background-color: var(--secondary-color); color: white; }
        .audio-box.playing .play-icon-wrapper { background-color: var(--primary-color); color: white; }
        
        /* انیمیشن نبض دار */
        .play-icon-wrapper::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            border-radius: 50%; background-color: var(--primary-color);
            z-index: -1; opacity: 0; transform: scale(1);
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(0.9); opacity: 0.6; }
            70% { transform: scale(1.4); opacity: 0; }
            100% { transform: scale(0.9); opacity: 0; }
        }
        .audio-box:not(.playing) .play-icon-wrapper::after { animation: none; }

        .audio-info h4 { font-size: 1.2rem; color: var(--heading-color); margin: 0 0 5px 0; }
        .audio-info p { font-size: 0.95rem; color: var(--text-color); margin: 0; }

        /* استایل برای باکس غیرفعال */
        .audio-box.disabled {
            cursor: not-allowed; background-color: #f1f3f5; opacity: 0.7;
        }
        .audio-box.disabled:hover { transform: none; box-shadow: var(--box-shadow); }
        .audio-box.disabled .play-icon-wrapper { background-color: #dde1e5; color: #95a5a6; }
        .audio-box.disabled:hover .play-icon-wrapper { background-color: #dde1e5; color: #95a5a6; }

        /* پلیر شناور در پایین صفحه */
        #floating-player {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: #1e272e; /* رنگ تیره و مدرن */
            color: white; padding: 20px 30px;
            box-shadow: 0 -5px 30px rgba(0,0,0,0.2);
            z-index: 100;
            transform: translateY(100%);
            visibility: hidden;
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 0.5s;
        }
        #floating-player.visible { transform: translateY(0); visibility: visible; transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1); }

        .player-content { display: flex; align-items: center; gap: 20px; }
        .player-title { flex-grow: 1; font-size: 1.1rem; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .player-controls { display: flex; align-items: center; gap: 15px; }
        .player-controls .control-btn {
            background: none; border: none; color: white; font-size: 1.8rem;
            cursor: pointer; transition: color 0.3s, transform 0.3s;
        }
        .player-controls .control-btn:hover { color: var(--secondary-color); transform: scale(1.1); }
        
        .progress-container { flex-grow: 1; display: flex; align-items: center; gap: 15px; }
        .progress-bar {
            width: 100%; height: 6px; background: rgba(255,255,255,0.2);
            border-radius: 3px; cursor: pointer;
        }
        .progress-fill {
            height: 100%; width: 0%; background: var(--success-color); border-radius: 3px;
        }
        .time-stamps { font-size: 0.9rem; font-variant-numeric: tabular-nums; }
        /* ======================================================== */
        /*          ▲▲▲ پایان بخش جدید پلیرهای صوتی ▲▲▲         */
        /* ======================================================== */

        /* بقیه استایل‌های شما (بدون تغییر) */
        .content-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 40px; max-width: 1200px; margin: 0 auto; }
        .grid-item { grid-column: span 1; display: flex; }
        .grid-item.full-width { grid-column: span 2; }
        .card { background-color: white; border-radius: var(--border-radius); padding: 40px; box-shadow: var(--box-shadow); border: 1px solid #e9ecef; width: 100%; display: flex; flex-direction: column; }
        .card h3 { font-size: 1.6rem; font-weight: 700; color: var(--heading-color); margin-top: 0; margin-bottom: 24px; display: flex; align-items: center; gap: 15px; }
        .card h3 i { font-size: 1.8rem; color: var(--secondary-color); }
        .card p { margin-top: 0; margin-bottom: 16px; }
        .card p:last-child { margin-bottom: 0; }
        .info-pills { display: flex; flex-wrap: wrap; gap: 16px; }
        .pill { background-color: var(--accent-color); border-radius: 50px; padding: 10px 22px; font-weight: 500; display: flex; align-items: center; gap: 10px; color: var(--heading-color); }
        .pill i { font-size: 1.2rem; color: var(--primary-color); }
        .price-card { background: linear-gradient(135deg, var(--secondary-color), var(--primary-color)); color: white; text-align: center; justify-content: center; padding: 40px; }
        .price-card h3, .price-card h3 i { color: white; }
        .price-card .price-old { text-decoration: line-through; opacity: 0.7; font-size: 1.3rem; }
        .price-card .price-new { font-size: 2.8rem; font-weight: bold; margin: 8px 0; }
        .price-card .price-new small { font-size: 1.1rem; font-weight: 500; }
        .price-card p:last-of-type { opacity: 0.9; margin-top: 8px; margin-bottom: 0; }
        .content-list { list-style: none; padding: 0; margin: 0; }
        .content-list li { padding: 8px 0; display: flex; align-items: center; gap: 15px; font-size: 1.1rem; }
        .content-list li .icon-leaf { color: #2e7d32; font-size: 1.5rem; }
        .timeline { position: relative; padding-top: 10px; }
        .timeline::before { content: ''; position: absolute; top: 10px; right: 20px; height: calc(100% - 20px); width: 4px; background: #e9ecef; border-radius: 2px; }
        .timeline-item { position: relative; padding-right: 70px; margin-bottom: 30px; }
        .timeline-item:last-child { margin-bottom: 0; }
        .timeline-item::before { content: attr(data-week); position: absolute; right: 0; top: -2px; height: 44px; width: 44px; border-radius: 50%; background: var(--secondary-color); color: white; z-index: 1; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1rem; border: 4px solid var(--bg-color); }
        .timeline-item h4 { margin: 0 0 4px; color: var(--heading-color); font-weight: bold; font-size: 1.1rem; display: flex; align-items: center; gap: 10px; }
        .timeline-item p { margin: 0; line-height: 1.5; }
        .timeline-item--online::before { background-color: var(--success-color); }
        .timeline-item--online h4 i { color: var(--success-color); }
        .timeline-item--rest::before { background-color: var(--muted-color); }
        .timeline-item--rest h4 i { color: var(--muted-color); }
        .contact-info { text-align: center; padding: 20px; background-color: var(--heading-color); color: white; border-radius: var(--border-radius); margin-top: auto; }
        .contact-info p { color: white; margin-bottom: 8px !important; }
        .contact-info a { color: white; text-decoration: none; font-weight: bold; font-size: 1.25rem; letter-spacing: 1px; }

        @media (max-width: 992px) {
            .content-grid, .audio-player-section { grid-template-columns: 1fr; }
            .grid-item.full-width { grid-column: span 1; }
        }
        @media (max-width: 768px) {
            #info-section { padding: 60px 20px; }
            #entry-section h1 { font-size: 2.5rem; text-align: center; padding: 0 15px; }
            #entry-section p { font-size: 1.1rem; text-align: center; padding: 0 20px; }
            .button-group { flex-direction: column; width: 85%; }
            .page-header h2 { font-size: 2.4rem; }
            .player-content { flex-direction: column; align-items: flex-start; gap: 10px; }
            .progress-container { width: 100%; }
        }
    </style>
</head>
<body class="entry-mode">

    <!-- ▼▼▼ تگ‌های صوتی به اینجا منتقل شده‌اند تا در کل صفحه در دسترس باشند ▼▼▼ -->
    <audio id="audio-institute" src="https://tashacol.github.io/ir/darbare.mp3" preload="metadata"></audio>
    <audio id="audio-course" src="PLACEHOLDER_LINK.mp3" preload="metadata"></audio>
    
    <div class="container" id="main-container">
        <section id="entry-section">
            <h1>دوره تربیت مربی نوجوان</h1>
            <p>یک دوره تخصصی و کاربردی برای ورود به دنیای نوجوانان</p>
            <div class="button-group">
                <a href="https://tashacol.github.io/ir/panel.html" class="entry-button"><i class="fa-solid fa-user-graduate"></i> ورود</a>
                <button id="show-info-btn" class="entry-button"><i class="fa-solid fa-circle-info"></i> درباره دوره</button>
            </div>
        </section>

        <main id="info-section">
            <header class="page-header">
                <h2>دوره جامع تربیت مربی نوجوان</h2>
                <p>هر آنچه برای مربیگری حرفه‌ای نوجوانان نیاز دارید</p>
            </header>

            <!-- ▼▼▼ بخش جدید HTML برای باکس‌های صوتی ▼▼▼ -->
            <section class="audio-player-section">
                <div class="audio-box" data-audio-id="audio-institute">
                    <div class="play-icon-wrapper">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="audio-info">
                        <h4>معرفی مؤسسه</h4>
                        <p>با اهداف و فعالیت‌های ما آشنا شوید.</p>
                    </div>
                </div>
                <div class="audio-box disabled" data-audio-id="audio-course">
                    <div class="play-icon-wrapper">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="audio-info">
                        <h4>معرفی دوره</h4>
                        <p>توضیحات صوتی درباره سرفصل‌ها و شیوه برگزاری.</p>
                    </div>
                </div>
            </section>
            <!-- ▲▲▲ پایان بخش جدید ▲▲▲ -->

            <div class="content-grid">
                <!-- بقیه محتوای شما بدون تغییر -->
                <div class="grid-item full-width">
                    <div class="card">
                        <h3><i class="fa-solid fa-circle-nodes"></i>اطلاعات کلیدی دوره</h3>
                        <div class="info-pills">
                            <span class="pill"><i class="fa-solid fa-clock"></i>مدت دوره: ۵۴ ساعت</span>
                            <span class="pill"><i class="fa-solid fa-laptop-code"></i>شیوه: مجازی (ایتا و سایت)</span>
                            <span class="pill"><i class="fa-solid fa-certificate"></i>ارائه گواهی معتبر</span>
                            <span class="pill"><i class="fa-solid fa-users"></i>مخاطبین: مربیان، معلمان و طلاب</span>
                            <span class="pill"><i class="fa-solid fa-users-viewfinder"></i>ظرفیت: ۶۰ نفر</span>
                        </div>
                    </div>
                </div>
                <div class="grid-item"><div class="card"><h3><i class="fa-solid fa-cubes-stacked"></i>محتوای دوره</h3><ul class="content-list"><li><i class="fa-solid fa-seedling icon-leaf"></i>سه جلسه کلاس آنلاین (پرسش و پاسخ)</li><li><i class="fa-solid fa-seedling icon-leaf"></i>هشت جلسه کلاس آفلاین (ویدئویی)</li><li><i class="fa-solid fa-seedling icon-leaf"></i>هشت جزوه تخصصی با فرمت PDF</li></ul><p><strong>مجری:</strong> مؤسسه تعالی اندیشه و رشد (ش.ث ۳۹۱) با مجوز تخصصی خانواده و سبک زندگی اسلامی.</p><p><strong>نحوه برگزاری:</strong> دوره ۳ ماه طول می‌کشد. هر هفته یک کلیپ و جزوه ارسال و آزمون هفتگی برگزار می‌گردد. کلاس‌های آنلاین در گوگل میت است. قبولی در آزمون‌های ترم شرط دریافت گواهی است.</p></div></div>
                <div class="grid-item"><div class="card price-card"><h3><i class="fa-solid fa-tags"></i>هزینه دوره</h3><p class="price-old">۴۰۰,۰۰۰ تومان</p><p class="price-new">۲۵۰,۰۰۰ <small>تومان</small></p><p>با تخفیف ویژه و ظرفیت محدود</p></div></div>
                <div class="grid-item full-width"><div class="card"><h3><i class="fa-solid fa-calendar-days"></i>برنامه و سرفصل‌های درسی</h3><div class="timeline"><div class="timeline-item" data-week="۱"><h4>هفته اول: شناخت نوجوانی</h4><p>ترم ۱: مبانی و ویژگی‌های دوران نوجوانی</p></div><div class="timeline-item" data-week="۲"><h4>هفته دوم: کلیات تربیت</h4><p>ترم ۲: اصول و روش‌های تربیتی</p></div><div class="timeline-item timeline-item--rest" data-week="۳"><h4><i class="fa-solid fa-mug-saucer"></i>هفته سوم: استراحت</h4><p>مرور دروس و آمادگی برای ادامه دوره</p></div><div class="timeline-item" data-week="۴"><h4>هفته چهارم: تربیت جنسی</h4><p>ترم ۳: رویکردها و پاسخ به چالش‌ها</p></div><div class="timeline-item" data-week="۵"><h4>هفته پنجم: تربیت دینی</h4><p>ترم ۴: تقویت باورها و هویت دینی</p></div><div class="timeline-item timeline-item--online" data-week="۶"><h4><i class="fa-solid fa-video"></i>کلاس آنلاین: چالش‌های نوجوان</h4><p>جلسه پرسش و پاسخ زنده</p></div><div class="timeline-item" data-week="۷"><h4>هفته هفتم: راهنمایی نوجوان</h4><p>ترم ۵: اصول مشاوره و راهنمایی</p></div><div class="timeline-item" data-week="۸"><h4>هفته هشتم: مهارت‌های زندگی ۱</h4><p>ترم ۶: مهارت‌های ارتباطی و فردی</p></div><div class="timeline-item timeline-item--online" data-week="۹"><h4><i class="fa-solid fa-video"></i>کلاس آنلاین: تربیت جنسی</h4><p>جلسه پرسش و پاسخ تخصصی</p></div><div class="timeline-item" data-week="۱۰"><h4>هفته دهم: مهارت‌های زندگی ۲</h4><p>ترم ۷: مهارت حل مسئله و تصمیم‌گیری</p></div><div class="timeline-item" data-week="۱۱"><h4>هفته یازدهم: تکنیک‌ها</h4><p>ترم ۸: تکنیک‌های عملی مربیگری</p></div><div class="timeline-item timeline-item--online" data-week="۱۲"><h4><i class="fa-solid fa-video"></i>کلاس آنلاین: مهارت‌های زندگی</h4><p>جمع‌بندی نهایی و پرسش و پاسخ</p></div></div></div></div>
                <div class="grid-item"><div class="card"><h3><i class="fa-solid fa-user-tie"></i>اساتید و منابع علمی</h3><p>اساتید دوره از نخبگان حوزه‌های علوم تربیتی، روانشناسی بالینی و اسلامی با فن بیان عالی انتخاب شده‌اند.</p><p><strong>منابع اصلی جزوات:</strong></p><p>واحد پژوهش موسسه، محتوا را از کتب اساتیدی چون دکتر فرشته موتابی، دکتر ربابه نوری، دکتر ابراهیم اخوی، دکتر شهرام محمد خوانی، دکتر احمد ساویز، دکتر محمد مهدی عباسی آغوی و دکتر نیلا آخوندی تهیه کرده است.</p></div></div>
                <div class="grid-item"><div class="card"><h3><i class="fa-solid fa-bullhorn"></i>اطلاعات تکمیلی</h3><p><strong>مخاطبین دقیق دوره:</strong> این دوره برای معلمان، مربیان، مبلغان، دانشجویان (با حداقل مدرک کارشناسی) و طلاب (با حداقل مدرک سطح یک) طراحی شده است.</p><p><strong>گواهی پایان دوره:</strong> در پایان دوره، امتحان جامع برگزار نمی‌شود. در صورتیکه در آزمون‌های هر ترم قبول شده باشید، می‌توانید گواهی معتبر دریافت کنید.</p><div class="contact-info"><p>پشتیبانی و پاسخگویی (معاونت آموزش)</p><a href="tel:09136395562">09136395562</a></div></div></div>
            </div>
        </main>
    </div>

    <!-- ▼▼▼ پلیر شناور که در پایین صفحه ظاهر می‌شود ▼▼▼ -->
    <div id="floating-player">
        <div class="player-content">
            <div class="player-controls">
                <button class="control-btn" id="player-play-pause-btn">
                    <i class="fas fa-play"></i>
                </button>
            </div>
            <div class="progress-container">
                <span class="time-stamps" id="current-time">00:00</span>
                <div class="progress-bar" id="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span class="time-stamps" id="total-duration">00:00</span>
            </div>
        </div>
         <h4 class="player-title" id="player-title">...</h4>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // اسکریپت اولیه برای نمایش صفحه
            const showInfoBtn = document.getElementById('show-info-btn');
            const body = document.body;
            showInfoBtn.addEventListener('click', function() {
                body.classList.remove('entry-mode');
            });

            // ======================================================== */
            //          ▼▼▼ اسکریپت جدید برای پلیر صوتی ▼▼▼           */
            // ======================================================== */
            const audioBoxes = document.querySelectorAll('.audio-box');
            const floatingPlayer = document.getElementById('floating-player');
            const playerPlayPauseBtn = document.getElementById('player-play-pause-btn');
            const playerTitle = document.getElementById('player-title');
            const progressBar = document.getElementById('progress-bar');
            const progressFill = document.getElementById('progress-fill');
            const currentTimeEl = document.getElementById('current-time');
            const totalDurationEl = document.getElementById('total-duration');
            
            let currentAudio = null;
            let currentAudioBox = null;

            // تابع برای فرمت کردن زمان از ثانیه به دقیقه:ثانیه
            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
            }
            
            // تابع برای متوقف کردن همه صداها و ریست کردن ظاهر
            function stopAllAudio() {
                document.querySelectorAll('audio').forEach(audio => {
                    audio.pause();
                    audio.currentTime = 0;
                });
                audioBoxes.forEach(box => {
                    box.classList.remove('playing');
                    box.querySelector('.play-icon-wrapper i').className = 'fas fa-play';
                });
                playerPlayPauseBtn.querySelector('i').className = 'fas fa-play';
            }

            audioBoxes.forEach(box => {
                box.addEventListener('click', () => {
                    if (box.classList.contains('disabled')) return;

                    const audioId = box.dataset.audioId;
                    const audio = document.getElementById(audioId);
                    
                    const isPlayingThis = currentAudio === audio && !audio.paused;

                    stopAllAudio();

                    if (isPlayingThis) {
                        floatingPlayer.classList.remove('visible');
                        currentAudio = null;
                        currentAudioBox = null;
                    } else {
                        currentAudio = audio;
                        currentAudioBox = box;
                        
                        playerTitle.textContent = box.querySelector('h4').textContent;
                        
                        audio.play();
                        
                        box.classList.add('playing');
                        box.querySelector('.play-icon-wrapper i').className = 'fas fa-pause';
                        playerPlayPauseBtn.querySelector('i').className = 'fas fa-pause';
                        
                        floatingPlayer.classList.add('visible');
                    }
                });
            });

            playerPlayPauseBtn.addEventListener('click', () => {
                if (currentAudio) {
                    if (currentAudio.paused) {
                        currentAudio.play();
                    } else {
                        currentAudio.pause();
                    }
                }
            });

            // به‌روزرسانی UI هنگام پخش یا توقف
            function updatePlayPauseUI() {
                if (currentAudio.paused) {
                    currentAudioBox.classList.remove('playing');
                    currentAudioBox.querySelector('.play-icon-wrapper i').className = 'fas fa-play';
                    playerPlayPauseBtn.querySelector('i').className = 'fas fa-play';
                } else {
                    currentAudioBox.classList.add('playing');
                    currentAudioBox.querySelector('.play-icon-wrapper i').className = 'fas fa-pause';
                    playerPlayPauseBtn.querySelector('i').className = 'fas fa-pause';
                }
            }

            document.querySelectorAll('audio').forEach(audio => {
                audio.addEventListener('play', updatePlayPauseUI);
                audio.addEventListener('pause', updatePlayPauseUI);
                audio.addEventListener('ended', () => {
                    stopAllAudio();
                    floatingPlayer.classList.remove('visible');
                });
                audio.addEventListener('timeupdate', () => {
                    if (audio === currentAudio) {
                        const progressPercent = (audio.currentTime / audio.duration) * 100;
                        progressFill.style.width = `${progressPercent}%`;
                        currentTimeEl.textContent = formatTime(audio.currentTime);
                    }
                });
                audio.addEventListener('loadedmetadata', () => {
                    if (audio === currentAudio) {
                        totalDurationEl.textContent = formatTime(audio.duration);
                    }
                });
            });

            // کنترل نوار پیشرفت با کلیک
            progressBar.addEventListener('click', function(e) {
                if (currentAudio) {
                    const barWidth = this.clientWidth;
                    const clickX = e.offsetX;
                    const duration = currentAudio.duration;
                    currentAudio.currentTime = (clickX / barWidth) * duration;
                }
            });
        });
    </script>

</body>
</html>
