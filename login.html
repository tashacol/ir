<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>داشبورد آموزشی - تربیت مربی نوجوان</title>

  <!-- کتابخانه‌ها -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <style>
    @font-face {
      font-family: 'Vazirmatn';
      src: url('https://cdn.fontcdn.ir/Font/Persian/Vazir/Vazir-Regular.woff2') format('woff2');
      font-weight: 400; font-display: swap;
    }
    @font-face {
      font-family: 'Vazirmatn';
      src: url('https://cdn.fontcdn.ir/Font/Persian/Vazir/Vazir-Bold.woff2') format('woff2');
      font-weight: 700; font-display: swap;
    }
    :root {
      --bg-main: #f4f7fc;
      --bg-card: #ffffff;
      --primary-color: #4a90e2;
      --primary-hover: #357ABD;
      --text-dark: #2c3e50;
      --text-light: #ffffff;
      --text-muted: #7f8c8d;
      --border-color: #eaecf0;
      --success-color: #2ecc71;
      --warning-color: #f39c12;
      --danger-color: #e74c3c;
      --shadow-soft: 0 4px 15px rgba(0, 0, 0, 0.06);
      --shadow-medium: 0 8px 25px rgba(0, 0, 0, 0.1);
      --border-radius: 12px;
      --transition-speed: 0.3s ease;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Vazirmatn', sans-serif;
      background-color: var(--bg-main);
      color: var(--text-dark);
      line-height: 1.7; overflow-x: hidden;
    }
    h1,h2,h3,strong { font-weight: 700; }

    /* لودر و ورود */
    .overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      display: flex; justify-content: center; align-items: center;
      background: var(--bg-main); z-index: 10000;
      transition: opacity 0.5s;
    }
    .loader {
      width: 50px; height: 50px;
      border: 5px solid var(--border-color);
      border-top-color: var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    #login-container { background: linear-gradient(135deg, #e0eafc, #cfdef3); }
    #login-box {
      background: white; padding: 40px;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-medium);
      width: 90%; max-width: 400px; text-align: center;
    }
    #login-box h2 { margin-bottom: 25px; }
    #login-box input {
      width: 100%; padding: 14px; margin-bottom: 15px;
      border: 1px solid var(--border-color); border-radius: 8px;
      font-size: 1rem; text-align: center;
    }
    #login-box button {
      width: 100%; padding: 14px;
      background: var(--primary-color); color: white;
      border: none; border-radius: 8px; cursor: pointer;
      font-size: 1.1rem; font-weight: 700;
      transition: all var(--transition-speed);
    }
    #login-box button:hover { background: var(--primary-hover); transform: translateY(-2px); }

    /* داشبورد */
    #dashboard { display: none; padding: 25px; max-width: 1200px; margin: auto; }
    .main-header {
      background-color: var(--bg-card);
      padding: 20px 25px; border-radius: var(--border-radius);
      box-shadow: var(--shadow-soft); border: 1px solid var(--border-color);
      margin-bottom: 25px;
    }
    .top-bar { display: flex; justify-content: space-between; align-items: center; }
    .user-profile { display: flex; align-items: center; gap: 15px; }
    .avatar {
      width: 50px; height: 50px; border-radius: 50%;
      background: var(--primary-color); color: white;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.5rem;
    }
    .user-profile-info h1 { font-size: 1.3rem; }
    .user-profile-info p { font-size: 0.9rem; color: var(--text-muted); }
    .header-actions button {
      background: transparent; border: 1px solid var(--danger-color);
      color: var(--danger-color); padding: 8px 15px;
      border-radius: 8px; cursor: pointer; font-weight: 700;
      transition: all var(--transition-speed);
    }
    .header-actions button:hover { background: var(--danger-color); color: white; }

    .progress-section { margin-top: 20px; }
    .progress-info { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.9rem; font-weight: 700; }
    .progress-bar { height: 10px; background: var(--border-color); border-radius: 5px; overflow: hidden; }
    #progress-bar-fill { height: 100%; width: 0%; background: var(--primary-color); transition: width 0.8s ease; }

    .warning-banner {
      background: var(--warning-color); color: var(--text-light);
      padding: 15px 20px; border-radius: var(--border-radius);
      margin-bottom: 25px; text-align: center; font-weight: 700;
    }

    .course-content {
      background: var(--bg-card); padding: 25px;
      border-radius: var(--border-radius); box-shadow: var(--shadow-soft);
      border: 1px solid var(--border-color);
    }
    .accordion-item { border-bottom: 1px solid var(--border-color); }
    .accordion-item:last-child { border-bottom: none; }
    .accordion-header {
      display: flex; align-items: center; padding: 20px;
      cursor: pointer; transition: background-color var(--transition-speed);
    }
    .accordion-header:hover, .accordion-item.active .accordion-header { background: #f9fafb; }
    .accordion-icon {
      width: 40px; height: 40px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      margin-left: 15px; font-size: 1.2rem;
    }
    .accordion-title h3 { font-size: 1.2rem; margin: 0; }
    .accordion-title span { font-size: 0.85rem; color: var(--text-muted); }
    .accordion-toggle-icon { margin-left: auto; transition: transform var(--transition-speed); }
    .accordion-item.active .accordion-toggle-icon { transform: rotate(180deg); }
    .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out; }
    .accordion-content-inner { padding: 0 20px 20px; display: flex; flex-direction: column; gap: 15px; }
    .action-button {
      padding: 12px; border: 1px solid var(--border-color);
      background: #f9fafb; border-radius: 8px; cursor: pointer;
      font-weight: 700; display: inline-flex; align-items: center; gap: 10px;
      transition: all var(--transition-speed);
    }
    .action-button:hover { background: var(--primary-color); color: white; border-color: var(--primary-color); }
    .action-button.homework { background: var(--primary-color); color: white; border: none; }
    .action-button.homework:hover { background: var(--primary-hover); }

    .special-state-card { text-align: center; padding: 50px 20px; }
    .special-state-card > i { font-size: 4rem; color: var(--primary-color); margin-bottom: 20px; }
    .special-state-card h2 { font-size: 2rem; margin-bottom: 10px; }
    .special-state-card p { font-size: 1.1rem; color: var(--text-muted); }
    #countdown-timer { font-size: 1.8rem; margin-top: 20px; }

    /* مدال‌ها */
    .modal {
      display: none; position: fixed; z-index: 10001;
      left: 0; top: 0; width: 100%; height: 100%;
      background: rgba(44,62,80,0.7); backdrop-filter: blur(5px);
      justify-content: center; align-items: center;
    }
    .modal-content {
      background: #fff; padding: 30px; border-radius: var(--border-radius);
      max-width: 500px; width: 90%; text-align: center; box-shadow: var(--shadow-medium);
    }
    .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .modal-header h3 { margin: 0; font-size: 1.4rem; }
    .close-btn { font-size: 1.8rem; background: none; border: none; cursor: pointer; color: #95a5a6; }
    .modal-body p { font-size: 1rem; color: var(--text-muted); line-height: 1.8; }
    .modal-footer { margin-top: 25px; }
    .modal-footer .btn { padding: 12px 30px; border-radius: 8px; font-weight: 700; cursor: pointer; transition: all var(--transition-speed); }
    .modal-footer .btn-primary { background: var(--primary-color); color: white; border: none; }
    .modal-footer .btn-primary:hover { background: var(--primary-hover); }
    #videoModal video { width: 100%; border-radius: 8px; }

    @media (max-width: 768px) {
      #dashboard { padding: 15px; }
      .user-profile .avatar { width: 40px; height: 40px; font-size: 1.2rem; }
      .user-profile-info h1 { font-size: 1.1rem; }
    }
  </style>
</head>
<body>

  <div id="loadingOverlay" class="overlay">
    <div class="loader"></div>
  </div>

  <div id="login-container" class="overlay" style="display: none;">
    <div id="login-box">
      <h2><i class="fas fa-chalkboard-teacher"></i><br>ورود به پنل آموزشی</h2>
      <input type="tel" id="nationalCodeInput" placeholder="کد ملی خود را وارد کنید" maxlength="10">
      <button id="verifyButton">ورود</button>
    </div>
  </div>

  <div id="dashboard">
    <header class="main-header">
      <div class="top-bar">
        <div class="user-profile">
          <div class="avatar"><i class="fas fa-user-graduate"></i></div>
          <div class="user-profile-info">
            <h1 id="userName"></h1>
            <p id="courseName"></p>
          </div>
        </div>
        <div class="header-actions">
          <button id="logoutBtn"><i class="fas fa-sign-out-alt"></i> خروج</button>
        </div>
      </div>
      <div class="progress-section">
        <div class="progress-info">
          <span id="startDate"></span>
          <span id="endDate"></span>
        </div>
        <div class="progress-bar">
          <div id="progress-bar-fill"></div>
        </div>
      </div>
      <div id="warning-banner" class="warning-banner" style="display:none;"></div>
    </header>
    <main>
      <div id="dynamic-content" class="course-content"></div>
    </main>
  </div>

  <!-- مدال ویدیو -->
  <div id="videoModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="videoTitle"></h3>
        <button class="close-btn" onclick="closeModal('videoModal')">×</button>
      </div>
      <video controls id="termVideo"></video>
    </div>
  </div>

  <!-- مدال تکلیف -->
  <div id="homeworkModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3><i class="fas fa-feather-alt"></i> دستورالعمل ارسال تکلیف</h3>
        <button class="close-btn" onclick="closeModal('homeworkModal')">×</button>
      </div>
      <div class="modal-body">
        <p>لطفا خلاصه‌ای از این درس را در <strong>حداقل سه صفحه A4</strong> به صورت <strong>دست‌نویس</strong> تهیه کرده و تصویر آن را برای ادمین در پیام‌رسان ایتا ارسال نمایید.</p>
      </div>
      <div class="modal-footer">
        <a href="https://eitaa.com/irtaali" target="_blank" class="btn btn-primary">
          <i class="fas fa-paper-plane"></i> ارسال پیام به ادمین ایتا
        </a>
      </div>
    </div>
  </div>

  <!-- مدال گواهی -->
  <div id="certificateModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3><i class="fas fa-award"></i> درخواست گواهی پایان دوره</h3>
        <button class="close-btn" onclick="closeModal('certificateModal')">×</button>
      </div>
      <div class="modal-body">
        <p>برای درخواست گواهی، ابتدا باید تمام تکالیف دوره را با موفقیت ارسال کرده باشید. پس از اطمینان از تکمیل تکالیف، جهت هماهنگی برای صدور گواهی به ادمین مراجعه کنید.</p>
      </div>
      <div class="modal-footer">
        <a href="https://eitaa.com/irtaali" target="_blank" class="btn btn-primary">
          <i class="fas fa-paper-plane"></i> تماس با ادمین ایتا
        </a>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // متغیرهای گلوبال
      let registeredUsers = [], currentUser = null, courseData = {}, certificateData = [];
      const videoLinks = {
        1: 'https://drive.google.com/uc?export=download&id=1krhkXnS-T_y5f1YXwRvmDemSqc5zzyta'
      };
      const pdfLinks = {
        1: 'https://drive.google.com/file/d/1jpQw_Si57LxDzWPNirbUWJ9GRVoPRskW/preview',
        2: 'https://drive.google.com/file/d/1jvGWk_6ZugxbclXJad9B39qgobWaY4B6/preview',
        3: 'https://drive.google.com/file/d/1joBvMQzV2qV3Sz-rsIGhjw1wY93xg8Yz/preview',
        4: 'https://drive.google.com/file/d/1k6_5QmpVPxb0FWDpOfUPxUHujBzn_ML5/preview',
        5: 'https://drive.google.com/file/d/1k0KFs3GEScdDsJ-EwipdhaIsV1peIgI4/preview',
        6: 'https://drive.google.com/file/d/1kAtuiyD7pbkYsMFkvaoguFPOiefQdEFr/preview'
      };

      // المان‌های DOM
      const DOM = {
        loadingOverlay: document.getElementById('loadingOverlay'),
        loginContainer: document.getElementById('login-container'),
        nationalCodeInput: document.getElementById('nationalCodeInput'),
        verifyButton: document.getElementById('verifyButton'),
        dashboard: document.getElementById('dashboard'),
        dynamicContent: document.getElementById('dynamic-content'),
        userName: document.getElementById('userName'),
        courseName: document.getElementById('courseName'),
        startDate: document.getElementById('startDate'),
        endDate: document.getElementById('endDate'),
        progressBarFill: document.getElementById('progress-bar-fill'),
        logoutBtn: document.getElementById('logoutBtn'),
        warningBanner: document.getElementById('warning-banner'),
        termVideo: document.getElementById('termVideo'),
        videoTitle: document.getElementById('videoTitle')
      };

      // تبدیل تاریخ و توابع کمکی
      function jalaliToGregorian(jy, jm, jd) {
        jy += 1595;
        let days = -355668 + 365*jy + Math.floor(jy/33)*8 + Math.floor(((jy%33)+3)/4) + jd + ((jm<7)?(jm-1)*31:((jm-7)*30)+186);
        let gy = 400*Math.floor(days/146097); days %= 146097;
        if (days>36524) { gy+=100*Math.floor(--days/36524); days%=36524; if (days>=365) days++; }
        gy += 4*Math.floor(days/1461); days%=1461;
        if (days>365) { gy+=Math.floor((days-1)/365); days=(days-1)%365; }
        let sal_a = [0,31,(gy%4===0&&gy%100!==0||gy%400===0)?29:28,31,30,31,30,31,31,30,31,30,31];
        let gm, gd=days+1;
        for (gm=0; gm<13 && gd>sal_a[gm]; gm++) gd-=sal_a[gm];
        return [gy, gm, gd];
      }
      function parseJalaliDate(str) {
        if (!str) return null;
        const p = str.split('/').map(Number);
        if (p.length!==3||p.some(isNaN)) return null;
        const [gy,gm,gd] = jalaliToGregorian(p[0],p[1],p[2]);
        return new Date(gy,gm-1,gd);
      }
      function formatDatePersian(d) {
        return d.toLocaleDateString("fa-IR-u-nu-latn",{ year:'numeric',month:'long',day:'numeric' });
      }

      // نمایش/مخفی کردن overlay و مدال
      function showOverlay(el, show) { el.style.display = show? 'flex':'none'; }
      window.openModal = id => document.getElementById(id).style.display='flex';
      window.closeModal = id => document.getElementById(id).style.display='none';

      window.openVideoModal = term => {
        DOM.videoTitle.innerText = `ویدیوی آموزشی ترم ${term}`;
        DOM.termVideo.src = videoLinks[term] || `sample_video_term${term}.mp4`;
        openModal('videoModal');
      };

      // رندر تایم‌لاین دوره
      function renderCourseTimeline() {
        let html='', termCounter=1;
        const now=new Date();
        for(let i=0;i<12;i++){
          const ws=new Date(courseData.startDate.getTime()+i*7*86400000);
          const we=new Date(ws.getTime()+7*86400000);
          const isLocked= now<ws;
          const isRest=(i+1)%3===0;
          const termNum=isRest?null:termCounter;
          let cls=isLocked?'locked':(now<we?'current':'completed');
          if(isRest) cls+=' rest-week';
          html+=`
            <div class="accordion-item ${cls}">
              <div class="accordion-header" ${isLocked?'':`onclick="toggleAccordion(this)"`}>
                <div class="accordion-icon"><i class="fas ${isRest?'fa-mug-hot':(isLocked?'fa-lock':'fa-book-open')}"></i></div>
                <div class="accordion-title">
                  <h3>${isRest?'هفته استراحت':`ترم ${termNum}`}</h3>
                  <span>شروع از: ${formatDatePersian(ws)}</span>
                </div>
                ${isLocked?'':'<i class="fas fa-chevron-down accordion-toggle-icon"></i>'}
              </div>
              ${isLocked?'':`
              <div class="accordion-content">
                <div class="accordion-content-inner">
                  ${isRest?'<p>این هفته برای استراحت و مرور است.</p>':`
                    <button class="action-button" onclick="openVideoModal(${termNum})">
                      <i class="fas fa-video"></i> مشاهده ویدیو
                    </button>
                    <a href="${pdfLinks[termNum]}" target="_blank" rel="noopener noreferrer" class="action-button">
                      <i class="fas fa-file-pdf"></i> مشاهده جزوه
                    </a>
                    <button class="action-button homework" onclick="openModal('homeworkModal')">
                      <i class="fas fa-paper-plane"></i> ارسال تکلیف
                    </button>
                  `}
                </div>
              </div>`}
            </div>`;
          if(!isRest) termCounter++;
        }
        DOM.dynamicContent.innerHTML = html;
      }

      window.toggleAccordion = hl => {
        const itm=hl.parentElement;
        const cnt=itm.querySelector('.accordion-content');
        if(itm.classList.contains('active')){
          itm.classList.remove('active');
          cnt.style.maxHeight = null;
        } else {
          const prev=document.querySelector('.accordion-item.active');
          if(prev){
            prev.classList.remove('active');
            prev.querySelector('.accordion-content').style.maxHeight=null;
          }
          itm.classList.add('active');
          cnt.style.maxHeight = cnt.scrollHeight+"px";
        }
      };

      function renderSpecialState(icon,title,txt,extra=''){
        DOM.dynamicContent.innerHTML=`
          <div class="special-state-card">
            <i class="fas ${icon}"></i>
            <h2>${title}</h2>
            <p>${txt}</p>
            ${extra}
          </div>`;
      }

      let countdownInt;
      function startCountdown(){
        const el=document.getElementById('countdown-timer');
        if(!el) return;
        countdownInt = setInterval(()=>{
          const dist = courseData.startDate - new Date();
          if(dist<0){ clearInterval(countdownInt); location.reload(); return; }
          const d=Math.floor(dist/86400000);
          const h=Math.floor((dist%86400000)/3600000);
          const m=Math.floor((dist%3600000)/60000);
          const s=Math.floor((dist%60000)/1000);
          el.innerText=`${d} روز و ${h} ساعت و ${m} دقیقه و ${s} ثانیه`;
        },1000);
      }

      function populateDashboard(){
        DOM.userName.innerText = currentUser[0];
        DOM.courseName.innerText = courseData.name;
        DOM.startDate.innerText = `شروع: ${formatDatePersian(courseData.startDate)}`;
        DOM.endDate.innerText = `پایان: ${formatDatePersian(courseData.endDate)}`;
        const now=new Date();
        const total=courseData.endDate - courseData.startDate;
        const elapsed=now - courseData.startDate;
        DOM.progressBarFill.style.width = `${Math.min(100,Math.max(0,(elapsed/total)*100))}%`;

        const lastRestStart = new Date(courseData.startDate.getTime()+11*7*86400000);
        if(now>=lastRestStart && now<courseData.endDate){
          DOM.warningBanner.innerHTML = `<i class="fas fa-exclamation-triangle"></i> توجه: این آخرین هفته برای ارسال خلاصه دروس است.`;
          DOM.warningBanner.style.display='block';
        }

        if(now < courseData.startDate){
          renderSpecialState('fa-hourglass-start','دوره به زودی آغاز می‌شود!','دوره در تاریخ '+formatDatePersian(courseData.startDate)+' آغاز خواهد شد.','<div id="countdown-timer"></div>');
          startCountdown();
        } else if(now > courseData.endDate){
          const certEnd = new Date(courseData.endDate.getTime()+30*86400000);
          if(now <= certEnd){
            renderSpecialState('fa-check-circle','دوره به اتمام رسید','برای اخذ گواهی روی دکمه زیر کلیک کنید.',`
              <div style="margin-top:25px;text-align:center;">
                <button class="action-button homework" onclick="openModal('certificateModal')">
                  <i class="fas fa-award"></i> درخواست گواهی
                </button>
              </div>`);
          } else {
            // بررسی دیتا گواهی
            const rec = certificateData.find(r=>r[4]&&r[4].toString()===currentUser[1].toString());
            if(rec && rec[14]){
              renderSpecialState('fa-award','گواهی شما صادر شد','برای دریافت روی دکمه زیر کلیک کنید.',`
                <a href="${rec[14]}" target="_blank" class="action-button homework" style="display:inline-flex;text-decoration:none;margin-top:20px;">
                  <i class="fas fa-download"></i> دانلود گواهینامه
                </a>`);
            } else {
              renderSpecialState('fa-times-circle','عدم موفقیت در اخذ گواهی','متأسفانه گواهی صادر نشده است.');
            }
          }
        } else {
          renderCourseTimeline();
        }
      }

      function initDashboard(){
        populateDashboard();
        showOverlay(DOM.loginContainer,false);
        DOM.dashboard.style.display='block';
        showOverlay(DOM.loadingOverlay,false);
      }

      function logout(){
        if(confirm('آیا برای خروج مطمئن هستید؟')) location.reload();
      }

      function verifyUser(code){
        if(!code) return alert('کد ملی نامعتبر است.');
        currentUser = registeredUsers.find(u=>u[1]&&u[1].toString()===code);
        if(currentUser){
          const sd = parseJalaliDate(currentUser[4]);
          if(!sd){ alert('تاریخ شروع اشتباه است.'); showOverlay(DOM.loadingOverlay,false); showOverlay(DOM.loginContainer,true); return; }
          courseData.startDate = sd;
          courseData.endDate = new Date(sd.getTime() + 84*86400000);
          initDashboard();
        } else {
          alert('کد ملی در دوره ثبت نشده است.');
          showOverlay(DOM.loadingOverlay,false);
          showOverlay(DOM.loginContainer,true);
        }
      }

      async function loadAndInit(){
        try {
          showOverlay(DOM.loadingOverlay,true);
          const mainUrl = 'https://docs.google.com/spreadsheets/d/1QSRAGajWtCWHJHsU-u4dRW85nq2hCGySKqtZQL0iTjY/export?format=xlsx';
          const certUrl = 'https://docs.google.com/spreadsheets/d/1c0g7deSI0y-QP4nQNux-l07_cumu3A6Gy0OolnhZWdU/export?format=xlsx';
          const [mRes,cRes] = await Promise.all([fetch(mainUrl),fetch(certUrl)]);
          if(!mRes.ok||!cRes.ok) throw new Error('خطا در دریافت فایل‌ها');
          const [mb,cb] = await Promise.all([mRes.arrayBuffer(), cRes.arrayBuffer()]);
          const mw = XLSX.read(mb,{type:'array'}), cw = XLSX.read(cb,{type:'array'});
          const mj = XLSX.utils.sheet_to_json(mw.Sheets[mw.SheetNames[0]],{header:1});
          certificateData = XLSX.utils.sheet_to_json(cw.Sheets[cw.SheetNames[0]],{header:1});
          courseData.name = mj[1][2]||'دوره آموزشی';
          registeredUsers = mj.slice(1);
          const params = new URLSearchParams(window.location.search);
          const id = params.get('id');
          if(id) verifyUser(id);
          else {
            showOverlay(DOM.loadingOverlay,false);
            showOverlay(DOM.loginContainer,true);
          }
        } catch(err){
          console.error(err);
          alert(err.message||'خطا در بارگذاری داده‌ها.');
          showOverlay(DOM.loadingOverlay,false);
        }
      }

      // ایونت‌ها
      DOM.verifyButton.addEventListener('click',()=>verifyUser(DOM.nationalCodeInput.value.trim()));
      DOM.nationalCodeInput.addEventListener('keypress',e=>e.key==='Enter'&&verifyUser(DOM.nationalCodeInput.value.trim()));
      DOM.logoutBtn.addEventListener('click',logout);

      loadAndInit();
    });
  </script>

</body>
</html>
