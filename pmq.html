<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200">
    <title>پرتال اساتید قرآن کریم</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --font-main: 'Vazirmatn', sans-serif;
            --primary-color: #0c4a6e; --secondary-color: #075985;
            --container-bg: #ffffff; --dark-text: #1e293b;
        }
        body {
            font-family: var(--font-main);
            color: var(--dark-text);
            line-height: 1.7;
            min-width: 1200px;
            margin: 0;
            background-image: url('https://tashacol.ir/1l5jlse9 (1).jpeg');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            position: relative; /* برای افکت‌های خرابی ضروری است */
            transition: opacity 0.1s linear; /* برای چشمک‌های سریع */
        }
        .hidden { display: none !important; }

        /* --- START: SABOTAGE EFFECT CSS --- */
        /* این بخش، مسئول تمام جلوه‌های بصری خرابی است */
        
        /* کانتینرهای مجازی برای ایجاد افکت گلیچ */
        body.glitch-active::before,
        body.glitch-active::after {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: inherit; /* محتوای صفحه را کپی می‌کند */
            pointer-events: none;
            z-index: 10001; /* بالاتر از همه چیز قرار می‌گیرد */
            mix-blend-mode: screen; /* افکت رنگی جذاب */
            opacity: 0.8;
        }

        /* انیمیشن برای کانال رنگی اول (قرمز) */
        body.glitch-active::before {
            animation: glitch-anim 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite;
        }
        
        /* انیمیشن برای کانال رنگی دوم (آبی/سبز) */
        body.glitch-active::after {
            animation: glitch-anim-2 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) reverse both infinite;
        }

        /* تعریف حرکات و برش‌های افکت گلیچ */
        @keyframes glitch-anim {
            0% { transform: translate(0); clip-path: inset(var(--g-t) 0 var(--g-b) 0); }
            10% { transform: translate(var(--g-x), var(--g-y)); }
            20% { transform: translate(calc(var(--g-x) * -1), calc(var(--g-y) * -1)); }
            30% { transform: translate(var(--g-x), calc(var(--g-y) * -1)); clip-path: inset(var(--g-t) 0 var(--g-b) 0); }
            40% { clip-path: inset(calc(var(--g-t) * 2) 0 calc(var(--g-b) * 3) 0); }
            50% { transform: translate(0); }
            100% { transform: translate(0); }
        }
        @keyframes glitch-anim-2 {
            0% { transform: translate(0); clip-path: inset(var(--g2-t) 0 var(--g2-b) 0); }
            15% { transform: translate(var(--g2-x), var(--g2-y)); }
            30% { transform: translate(0, 0); }
            50% { clip-path: inset(var(--g2-t) 0 var(--g2-b) 0); }
            70% { transform: translate(calc(var(--g2-x) * -1), var(--g2-y)); }
            100% { transform: translate(0); }
        }

        /* صفحه نهایی خرابی */
        #system-failure-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000;
            color: #ccc;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5rem;
            z-index: 10002;
        }
        /* --- END: SABOTAGE EFFECT CSS --- */


        /* استایل‌های اصلی صفحه ورود - دست نخورده */
        #login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        #login-section {
            text-align: center;
            max-width: 420px;
            width: 100%;
            background: var(--container-bg);
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.05), 0 10px 10px -5px rgba(0,0,0,0.04);
            z-index: 1;
        }
        .login-header-icon {
            max-width: 120px;
            height: auto;
            margin-bottom: 20px;
            display: inline-block;
        }
        h1 {
            color: var(--primary-color);
            text-align: center;
            font-weight: 700;
            font-size: 2.2rem;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    
    <!-- این بخش، همان صفحه ورود اصلی شماست -->
    <div id="login-container">
        <div id="login-section">
            <img src="https://tashacol.ir/quran.png" alt="لوگو" class="login-header-icon">
            <h1>پرتال اساتید قرآن کریم</h1>
            <!-- فرم و سایر عناصر می‌توانند اینجا باشند، اما برای این سناریو نیازی به آنها نیست -->
        </div>
    </div>

<script>
    // --- START: SABOTAGE CONTROLLER MODULE ---
    // این ماژول تمام منطق خرابی را کنترل می‌کند

    const sabotageController = {
        timers: [], // برای نگهداری تایمرها و امکان متوقف کردن آنها

        // متوقف کردن تمام افکت‌ها
        stop: function() {
            this.timers.forEach(clearTimeout);
            this.timers = [];
            document.body.classList.remove('glitch-active');
            document.body.style.opacity = 1;
        },

        // افکت گلیچ (خرابی تصویر)
        glitch: function() {
            // مقادیر تصادفی برای انیمیشن گلیچ تولید می‌کند
            const setGlitchVars = () => {
                const intensity = 10; // شدت خرابی
                document.body.style.setProperty('--g-x', `${(Math.random() * intensity) - (intensity / 2)}px`);
                document.body.style.setProperty('--g-y', `${(Math.random() * intensity) - (intensity / 2)}px`);
                // مقادیر دیگر برای برش‌های افقی
                document.body.style.setProperty('--g-t', `${Math.random() * 90}vh`);
                document.body.style.setProperty('--g-b', `${Math.random() * 10}vh`);
            };
            
            setGlitchVars();
            document.body.classList.add('glitch-active');
            
            // گلیچ برای یک مدت زمان بسیار کوتاه و تصادفی فعال می‌ماند
            const duration = Math.random() * 200 + 50; // بین 50 تا 250 میلی‌ثانیه
            const t1 = setTimeout(() => {
                document.body.classList.remove('glitch-active');
            }, duration);
            
            // گلیچ بعدی را در یک فاصله زمانی تصادفی اجرا می‌کند
            const nextGlitchDelay = Math.random() * 2500 + 500; // بین 0.5 تا 3 ثانیه
            const t2 = setTimeout(() => this.glitch(), nextGlitchDelay);
            
            this.timers.push(t1, t2);
        },

        // افکت چشمک زدن (تغییر شفافیت کل صفحه)
        flicker: function() {
            // شفافیت صفحه را به صورت تصادفی کم می‌کند
            document.body.style.opacity = Math.random() * 0.5 + 0.4; // شفافیت بین 40% تا 90%
            
            // پس از یک لحظه کوتاه، شفافیت را به حالت عادی برمی‌گرداند
            const duration = Math.random() * 120 + 40; // بین 40 تا 160 میلی‌ثانیه
            const t1 = setTimeout(() => {
                document.body.style.opacity = 1;
            }, duration);

            // چشمک بعدی را در یک فاصله زمانی تصادفی اجرا می‌کند
            const nextFlickerDelay = Math.random() * 3000 + 300; // بین 0.3 تا 3.3 ثانیه
            const t2 = setTimeout(() => this.flicker(), nextFlickerDelay);
            
            this.timers.push(t1, t2);
        },

        // نمایش صفحه نهایی خرابی
        showFailureScreen: function() {
            this.stop(); // تمام افکت‌های دیگر را متوقف کن
            
            // یک لایه سیاه روی کل صفحه ایجاد کن
            const failureDiv = document.createElement('div');
            failureDiv.id = 'system-failure-overlay';
            failureDiv.textContent = 'خرابی سامانه';
            document.body.innerHTML = ''; // تمام محتوای قبلی را پاک کن
            document.body.appendChild(failureDiv);
            document.body.style.backgroundColor = '#000';
        },

        // شروع کننده کل سناریوی خرابی
        start: function() {
            this.stop();
            
            // افکت‌ها را با تاخیرهای اولیه شروع می‌کند تا طبیعی‌تر باشد
            setTimeout(() => this.flicker(), 1000);
            setTimeout(() => this.glitch(), 1500);
            
            // پس از 7 ثانیه هرج و مرج، صفحه نهایی را نمایش می‌دهد
            setTimeout(() => this.showFailureScreen(), 7000);
        }
    };
    // --- END: SABOTAGE CONTROLLER MODULE ---


    // وقتی صفحه کاملا بارگذاری شد، سناریو را شروع کن
    document.addEventListener('DOMContentLoaded', () => {
        // برای 1.5 ثانیه صفحه را عادی نشان بده
        setTimeout(() => {
            // سپس سناریوی خرابی را آغاز کن
            sabotageController.start();
        }, 1500);
    });

</script>
</body>
</html>
