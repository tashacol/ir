<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>کتابخانه دیجیتال تعالی | مرجع نوین دانش</title>
    
    <!-- فونت و آیکون -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
            /* پالت رنگی مدرن و مینیمال */
            --bg-body: #f8fafc;
            --bg-surface: #ffffff;
            --primary: #2563eb; /* آبی کبالت */
            --primary-dark: #1e40af;
            --accent: #f59e0b; /* طلایی برای امتیاز */
            --text-main: #0f172a;
            --text-sub: #64748b;
            --border: #e2e8f0;
            --glass: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(255, 255, 255, 0.5);
            --shadow-sm: 0 4px 6px -1px rgba(0,0,0,0.05);
            --shadow-lg: 0 20px 25px -5px rgba(0,0,0,0.1);
            --radius-xl: 24px;
            --radius-md: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--bg-body);
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(37, 99, 235, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(37, 99, 235, 0.05) 0%, transparent 50%);
            background-attachment: fixed;
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* --- Header & Nav --- */
        .navbar {
            position: sticky; top: 20px; z-index: 100;
            width: 90%; max-width: 1200px; margin: 0 auto 40px;
            background: var(--glass); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 100px;
            padding: 10px 20px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: var(--shadow-sm);
        }

        .brand { display: flex; align-items: center; gap: 10px; font-weight: 900; font-size: 1.2rem; color: var(--primary); }
        .brand i { font-size: 1.5rem; }

        .nav-links { display: flex; gap: 20px; }
        .nav-item { cursor: pointer; color: var(--text-sub); font-weight: 500; transition: var(--transition); }
        .nav-item:hover, .nav-item.active { color: var(--primary); }

        /* --- Hero Section --- */
        .hero {
            text-align: center; margin-bottom: 60px; padding: 0 20px;
            animation: fadeIn 0.8s ease-out;
        }
        .hero h1 { font-size: 3rem; font-weight: 900; margin-bottom: 15px; letter-spacing: -1px; }
        .hero h1 span { color: var(--primary); background: linear-gradient(120deg, var(--primary), #60a5fa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero p { color: var(--text-sub); font-size: 1.1rem; max-width: 600px; margin: 0 auto; }

        /* --- Search & Filter --- */
        .controls-container {
            max-width: 1200px; margin: 0 auto 40px; padding: 0 20px;
            display: flex; flex-direction: column; gap: 20px; align-items: center;
        }

        .search-wrapper {
            position: relative; width: 100%; max-width: 600px;
        }
        .search-input {
            width: 100%; padding: 16px 50px 16px 20px;
            border-radius: 50px; border: 2px solid var(--border);
            font-family: inherit; font-size: 1rem;
            background: var(--bg-surface);
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }
        .search-input:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1); }
        .search-icon { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); color: var(--text-sub); font-size: 1.2rem; }

        .categories {
            display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;
        }
        .cat-btn {
            padding: 8px 16px; border-radius: 50px; border: 1px solid var(--border);
            background: var(--bg-surface); color: var(--text-sub);
            cursor: pointer; font-family: inherit; font-weight: 500; transition: var(--transition);
        }
        .cat-btn:hover, .cat-btn.active {
            background: var(--primary); color: white; border-color: var(--primary); transform: translateY(-2px);
        }

        /* --- Library Grid --- */
        .library-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 30px;
            max-width: 1200px; margin: 0 auto; padding: 0 20px 60px;
        }

        .book-card {
            background: var(--bg-surface);
            border-radius: var(--radius-xl);
            padding: 20px;
            position: relative;
            transition: var(--transition);
            border: 1px solid transparent;
            cursor: pointer;
            display: flex; flex-direction: column;
        }

        .book-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--border);
        }

        .cover-wrapper {
            width: 100%; aspect-ratio: 2/3;
            border-radius: var(--radius-md);
            overflow: hidden; margin-bottom: 15px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .book-cover {
            width: 100%; height: 100%; object-fit: cover;
            transition: transform 0.5s ease;
        }
        .book-card:hover .book-cover { transform: scale(1.05); }

        .book-info { flex: 1; display: flex; flex-direction: column; }
        
        .book-tag {
            font-size: 0.7rem; color: var(--primary); background: #eff6ff;
            padding: 4px 8px; border-radius: 6px; align-self: flex-start;
            margin-bottom: 8px; font-weight: 700;
        }

        .book-title { font-size: 1.1rem; font-weight: 800; color: var(--text-main); margin-bottom: 5px; line-height: 1.4; }
        .book-author { font-size: 0.9rem; color: var(--text-sub); margin-bottom: 15px; }

        .book-meta {
            margin-top: auto;
            display: flex; justify-content: space-between; align-items: center;
            border-top: 1px solid var(--border); padding-top: 12px;
        }
        .rating { color: var(--accent); font-size: 0.85rem; font-weight: bold; }
        .download-icon {
            width: 35px; height: 35px; border-radius: 50%;
            background: var(--bg-body); color: var(--text-main);
            display: flex; align-items: center; justify-content: center;
            transition: var(--transition);
        }
        .book-card:hover .download-icon { background: var(--primary); color: white; }

        /* --- Modal --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(8px);
            z-index: 1000; display: none; align-items: center; justify-content: center;
            opacity: 0; transition: var(--transition);
        }
        .modal-overlay.active { opacity: 1; }

        .modal-content {
            background: var(--bg-surface); width: 90%; max-width: 800px;
            border-radius: 30px; padding: 30px;
            display: flex; gap: 30px;
            box-shadow: var(--shadow-lg);
            transform: scale(0.9); transition: var(--transition);
            position: relative;
        }
        .modal-overlay.active .modal-content { transform: scale(1); }

        .modal-cover {
            width: 280px; height: 400px; border-radius: 20px;
            object-fit: cover; box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .modal-details { flex: 1; display: flex; flex-direction: column; }
        .close-btn {
            position: absolute; top: 20px; left: 20px;
            background: #f1f5f9; border: none; width: 40px; height: 40px;
            border-radius: 50%; cursor: pointer; font-size: 1.2rem;
            display: flex; align-items: center; justify-content: center;
            transition: 0.2s;
        }
        .close-btn:hover { background: #e2e8f0; color: var(--text-main); }

        .modal-title { font-size: 2rem; font-weight: 900; margin-bottom: 5px; color: var(--text-main); }
        .modal-author { font-size: 1.1rem; color: var(--text-sub); margin-bottom: 20px; }
        .modal-desc { line-height: 1.8; color: var(--text-main); margin-bottom: 30px; flex-grow: 1; }

        .modal-stats {
            display: flex; gap: 20px; margin-bottom: 30px;
        }
        .stat-item { text-align: center; background: #f8fafc; padding: 10px 20px; border-radius: 12px; border: 1px solid var(--border); }
        .stat-val { display: block; font-weight: 800; font-size: 1.1rem; color: var(--text-main); }
        .stat-lbl { font-size: 0.8rem; color: var(--text-sub); }

        .download-btn {
            background: var(--primary); color: white; border: none;
            padding: 15px; border-radius: 15px; font-size: 1.1rem; font-weight: 700; font-family: inherit;
            cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;
            transition: var(--transition); text-decoration: none;
        }
        .download-btn:hover { background: var(--primary-dark); transform: translateY(-3px); box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3); }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .modal-content { flex-direction: column; height: 90vh; overflow-y: auto; }
            .modal-cover { width: 100%; height: auto; aspect-ratio: 2/3; margin: 0 auto; }
            .hero h1 { font-size: 2rem; }
            .library-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
        }
        @media (max-width: 480px) {
            .library-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- نوار ناوبری شیشه‌ای -->
    <nav class="navbar">
        <div class="brand">
            <i class="fas fa-book-reader"></i>
            <span>کتابخانه تعالی</span>
        </div>
        <div class="nav-links">
            <span class="nav-item active">خانه</span>
            <span class="nav-item">محبوب‌ترین‌ها</span>
            <span class="nav-item">درباره ما</span>
        </div>
    </nav>

    <!-- بخش قهرمان -->
    <section class="hero">
        <h1>دنیای دانش در <span>دستان شما</span></h1>
        <p>به روزترین مرجع کتاب‌های الکترونیک، مقالات پژوهشی و منابع آموزشی با دسترسی آزاد و نامحدود.</p>
    </section>

    <!-- کنترل‌ها: جستجو و فیلتر -->
    <section class="controls-container">
        <div class="search-wrapper">
            <input type="text" class="search-input" id="searchInput" placeholder="جستجو در میان هزاران عنوان کتاب، نویسنده و...">
            <i class="fas fa-search search-icon"></i>
        </div>
        <div class="categories" id="categoryContainer">
            <button class="cat-btn active" data-cat="all">همه</button>
            <button class="cat-btn" data-cat="psychology">روانشناسی</button>
            <button class="cat-btn" data-cat="education">تربیتی</button>
            <button class="cat-btn" data-cat="religious">مذهبی</button>
            <button class="cat-btn" data-cat="success">موفقیت</button>
            <button class="cat-btn" data-cat="family">خانواده</button>
        </div>
    </section>

    <!-- شبکه کتاب‌ها -->
    <section class="library-grid" id="bookGrid">
        <!-- کتاب‌ها توسط جاوا اسکریپت در اینجا بارگذاری می‌شوند -->
    </section>

    <!-- مودال جزئیات -->
    <div class="modal-overlay" id="bookModal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            <img src="" alt="Cover" class="modal-cover" id="mCover">
            <div class="modal-details">
                <div class="book-tag" id="mCat" style="align-self: flex-start; margin-bottom: 10px;"></div>
                <h2 class="modal-title" id="mTitle"></h2>
                <span class="modal-author" id="mAuthor"></span>
                
                <div class="modal-stats">
                    <div class="stat-item">
                        <span class="stat-val" id="mYear"></span>
                        <span class="stat-lbl">سال انتشار</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-val" id="mPages"></span>
                        <span class="stat-lbl">صفحه</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-val" id="mSize"></span>
                        <span class="stat-lbl">حجم</span>
                    </div>
                </div>

                <p class="modal-desc" id="mDesc"></p>
                
                <a href="#" class="download-btn" id="mDownload">
                    <i class="fas fa-cloud-download-alt"></i> دانلود رایگان کتاب
                </a>
            </div>
        </div>
    </div>

    <script>
        // پایگاه داده فرضی کتاب‌ها (Mock Data)
        const books = [
            {
                id: 1,
                title: "هنر شفاف اندیشیدن",
                author: "رولف دوبلی",
                category: "psychology",
                catName: "روانشناسی",
                cover: "https://via.placeholder.com/300x450/2563eb/ffffff?text=Thinking",
                rating: 4.8,
                year: "1402",
                pages: 320,
                size: "4.5 MB",
                desc: "این کتاب به شما نشان می‌دهد که چگونه خطاهای شناختی بر تصمیم‌گیری‌های ما تاثیر می‌گذارند و چطور می‌توانیم بهتر فکر کنیم."
            },
            {
                id: 2,
                title: "تربیت بدون فریاد",
                author: "هال ادوارد رانکل",
                category: "education",
                catName: "تربیتی",
                cover: "https://via.placeholder.com/300x450/10b981/ffffff?text=Parenting",
                rating: 4.5,
                year: "1401",
                pages: 210,
                size: "3.2 MB",
                desc: "راهنمایی عملی برای والدین که می‌خواهند بدون درگیری و تنش، فرزندانی مسئولیت‌پذیر تربیت کنند."
            },
            {
                id: 3,
                title: "انسان در جستجوی معنا",
                author: "ویکتور فرانکل",
                category: "psychology",
                catName: "روانشناسی",
                cover: "https://via.placeholder.com/300x450/f59e0b/ffffff?text=Meaning",
                rating: 4.9,
                year: "1400",
                pages: 180,
                size: "2.1 MB",
                desc: "شاهکاری در روانشناسی که به بررسی تجربه اسارت در اردوگاه‌های کار اجباری و یافتن معنا در رنج می‌پردازد."
            },
            {
                id: 4,
                title: "عادت‌های اتمی",
                author: "جیمز کلیر",
                category: "success",
                catName: "موفقیت",
                cover: "https://via.placeholder.com/300x450/6366f1/ffffff?text=Habits",
                rating: 4.7,
                year: "1403",
                pages: 290,
                size: "5.0 MB",
                desc: "راهکاری ساده و اثبات‌شده برای ایجاد عادات خوب و شکستن عادات بد که زندگی شما را متحول می‌کند."
            },
            {
                id: 5,
                title: "سبک زندگی اسلامی",
                author: "گروه مولفین",
                category: "religious",
                catName: "مذهبی",
                cover: "https://via.placeholder.com/300x450/06b6d4/ffffff?text=Islamic+Life",
                rating: 4.6,
                year: "1399",
                pages: 400,
                size: "6.5 MB",
                desc: "بررسی جامع اصول و مبانی سبک زندگی بر اساس آموزه‌های دینی و کاربرد آن در دنیای مدرن."
            },
            {
                id: 6,
                title: "خانواده موفق",
                author: "دکتر افروز",
                category: "family",
                catName: "خانواده",
                cover: "https://via.placeholder.com/300x450/ec4899/ffffff?text=Family",
                rating: 4.4,
                year: "1402",
                pages: 250,
                size: "3.8 MB",
                desc: "کلیدهای طلایی برای داشتن خانواده‌ای شاد، سالم و موفق با رویکرد روانشناسی بومی."
            }
        ];

        const grid = document.getElementById('bookGrid');
        const modal = document.getElementById('bookModal');
        const searchInput = document.getElementById('searchInput');
        const catButtons = document.querySelectorAll('.cat-btn');

        // تابع رندر کردن کتاب‌ها
        function renderBooks(filter = 'all', query = '') {
            grid.innerHTML = '';
            
            const filteredBooks = books.filter(book => {
                const matchesCat = filter === 'all' || book.category === filter;
                const matchesQuery = book.title.includes(query) || book.author.includes(query);
                return matchesCat && matchesQuery;
            });

            if (filteredBooks.length === 0) {
                grid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 50px; color: var(--text-sub);">موردی یافت نشد.</div>';
                return;
            }

            filteredBooks.forEach(book => {
                const card = document.createElement('div');
                card.className = 'book-card';
                card.onclick = () => openModal(book);
                card.innerHTML = `
                    <div class="cover-wrapper">
                        <img src="${book.cover}" alt="${book.title}" class="book-cover">
                    </div>
                    <div class="book-info">
                        <span class="book-tag">${book.catName}</span>
                        <h3 class="book-title">${book.title}</h3>
                        <span class="book-author">${book.author}</span>
                        <div class="book-meta">
                            <span class="rating"><i class="fas fa-star"></i> ${book.rating}</span>
                            <div class="download-icon"><i class="fas fa-arrow-down"></i></div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // مدیریت مودال
        function openModal(book) {
            document.getElementById('mCover').src = book.cover;
            document.getElementById('mCat').innerText = book.catName;
            document.getElementById('mTitle').innerText = book.title;
            document.getElementById('mAuthor').innerText = "نویسنده: " + book.author;
            document.getElementById('mDesc').innerText = book.desc;
            document.getElementById('mYear').innerText = book.year;
            document.getElementById('mPages').innerText = book.pages;
            document.getElementById('mSize').innerText = book.size;
            
            // لینک دانلود (در اینجا نمادین است)
            document.getElementById('mDownload').href = "#download-" + book.id;

            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('active'), 10);
        }

        function closeModal() {
            modal.classList.remove('active');
            setTimeout(() => modal.style.display = 'none', 300);
        }

        // بستن مودال با کلیک بیرون
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // مدیریت جستجو
        searchInput.addEventListener('input', (e) => {
            const activeCat = document.querySelector('.cat-btn.active').dataset.cat;
            renderBooks(activeCat, e.target.value);
        });

        // مدیریت دسته‌بندی‌ها
        catButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                catButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderBooks(btn.dataset.cat, searchInput.value);
            });
        });

        // رندر اولیه
        renderBooks();

    </script>
</body>
</html>
